<p id="notice"><%= notice %></p>

<div class="container">
  <div class="row">
    <div class="col-md-10 offset-md-1">
      <h1>All Users List</h1>
      <%= link_to "削除済みユーザー一覧", deleted_index_admin_users_path, class: "btn btn-secondary" %>
      <table class="table table-hover table-inverse">
        <thead>
          <tr>
            <th>ユーザーネーム</th>
            <th>メールアドレス</th>
            <th>状態</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @users.each do |user| %>
            <tr class="<%= 'table-danger' if user.deleted? %>">
              <td><%= user.name %></td>
              <td><%= user.email %></td>
              <td>
                <% if user.deleted? %>
                  <span class="text-danger">削除済み</span>
                <% else %>
                  <span class="text-success">有効</span>
                <% end %>
              </td>
              <td>
                <% unless user.guest_user? %>
                  <% if user.deleted? %>
                    <%= link_to '復元',restore_admin_user_path(user),method: :patch,data: { confirm: 'このユーザーを復元しますか？' },class: "btn btn-success" %>
                  <% else %>
                    <%= link_to '削除',admin_user_path(user),method: :delete,data: { confirm: '本当に削除しますか？' },class: "btn btn-danger" %>
                  <% end %>
                <% end %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>